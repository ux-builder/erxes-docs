import { Guides } from '@/components/Guides'
import { Resources } from '@/components/Resources'
import { HeroPattern } from '@/components/HeroPattern'
import { Category } from '@/components/Category'
import {Tabs, Tab} from '@/components/Tabs'

export const metadata = {
  title: 'ë¹ ë¥¸ ì‹œì‘',
  description:
    'ì´ ê°€ì´ë“œëŠ” Protocol APIë¥¼ ì‚¬ìš©í•  ì¤€ë¹„ë¥¼ ëª¨ë‘ ë§ˆì¹˜ëŠ” ë° ë„ì›€ì„ ì¤„ ê²ƒì…ë‹ˆë‹¤. API í´ë¼ì´ì–¸íŠ¸ë¥¼ ì‹œì‘í•˜ê³  ì²« ë²ˆì§¸ API ìš”ì²­ì„ ë§Œë“œëŠ” ë°©ë²•ì„ ë‹¤ë£¹ë‹ˆë‹¤.',
}

<HeroPattern />

# ì„¤ì • ë° ë°°í¬ 
---

## ë¡œì»¬ ì„¤ì¹˜

ë‹¤ìŒ ë¬¸ì„œëŠ” [Docker](https://www.docker.com/)ë¥¼ ì‚¬ìš©í•˜ì—¬ erxes í”„ë¡œì íŠ¸ë¥¼ ì„¤ì¹˜í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.

DockerëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œ, ë°°í¬ ë° ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì˜¤í”ˆ í”Œë«í¼ì…ë‹ˆë‹¤. ì»¨í…Œì´ë„ˆ(ì¦‰, ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ê¸°ëŠ¥í•˜ëŠ” ë° í•„ìš”í•œ ëª¨ë“  ë¶€ë¶„, ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ì¢…ì†ì„±ì„ í¬í•¨í•˜ëŠ” íŒ¨í‚¤ì§€)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

# ì„¤ì¹˜ ì¤€ë¹„

erxes ì„¤ì¹˜ëŠ” ì»´í“¨í„°ì— ìµœì†Œí•œ ë„¤ ê°€ì§€ ì†Œí”„íŠ¸ì›¨ì–´ ì „ì œ ì¡°ê±´ì´ ë¯¸ë¦¬ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤:

<Caution>
    Erxes ì½”ë“œëŠ” ì•½ 12GBì˜ ì €ì¥ ê³µê°„ì„ ì°¨ì§€í•˜ë¯€ë¡œ ì§„í–‰í•˜ê¸° ì „ì— ê¸°ê¸°ì— ì¶©ë¶„í•œ ê³µê°„ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.
</Caution>

**ì „ì œ ì¡°ê±´**

<Tabs>
  <Tab label="Ubuntu">
- [Git](https://github.com/git-guides/install-git)<script src='https://cdn.jsdelivr.net/gh/eddymens/markdown-external-link-script@v2.0.0/main.min.js'></script>
- [Node.js:](https://nodejs.org/en)<script src='https://cdn.jsdelivr.net/gh/eddymens/markdown-external-link-script@v2.0.0/main.min.js'></script> only LTS versions are supported v18.17.1 or higher. Other versions of Node.js may not be compatible with the latest release of erxes. The 18.17.x version is most recommended by erxes. The easier way to install [nvm](https://github.com/nvm-sh/nvm#installing-and-updating) is here.
- [npm](https://docs.npmjs.com/cli/v6/commands/npm-install/)<script src='https://cdn.jsdelivr.net/gh/eddymens/markdown-external-link-script@v2.0.0/main.min.js'></script> and [yarn](https://classic.yarnpkg.com/lang/en/docs/install/#debian-stable)<script src='https://cdn.jsdelivr.net/gh/eddymens/markdown-external-link-script@v2.0.0/main.min.js'></script> (latest version) to run the erxes. 
- [Docker](https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-20-04)<script src='https://cdn.jsdelivr.net/gh/eddymens/markdown-external-link-script@v2.0.0/main.min.js'></script> Latest version.
</Tab>
  <Tab label="MacOS">
- [Git](https://github.com/git-guides/install-git)<script src='https://cdn.jsdelivr.net/gh/eddymens/markdown-external-link-script@v2.0.0/main.min.js'></script>
- [Node.js:](https://nodejs.org/en)<script src='https://cdn.jsdelivr.net/gh/eddymens/markdown-external-link-script@v2.0.0/main.min.js'></script> only LTS versions are supported v18.17.1 or higher. Other versions of Node.js may not be compatible with the latest release of erxes. The 18.17.x version is most recommended by erxes. The easier way to install [nvm](https://github.com/nvm-sh/nvm#installing-and-updating) is here.
- [npm](https://docs.npmjs.com/cli/v6/commands/npm-install/)<script src='https://cdn.jsdelivr.net/gh/eddymens/markdown-external-link-script@v2.0.0/main.min.js'></script> and [yarn](https://classic.yarnpkg.com/lang/en/docs/install/#debian-stable)<script src='https://cdn.jsdelivr.net/gh/eddymens/markdown-external-link-script@v2.0.0/main.min.js'></script> (latest version) to run the erxes. 
- [Docker](https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-20-04)<script src='https://cdn.jsdelivr.net/gh/eddymens/markdown-external-link-script@v2.0.0/main.min.js'></script> Latest version.
- [Homebrew](https://brew.sh/)<script src='https://cdn.jsdelivr.net/gh/eddymens/markdown-external-link-script@v2.0.0/main.min.js'></script> latest version
- [Xcode](https://www.freecodecamp.org/news/install-xcode-command-line-tools/)<script src='https://cdn.jsdelivr.net/gh/eddymens/markdown-external-link-script@v2.0.0/main.min.js'></script> latest version
</Tab>
</Tabs>

# erxes ì„¤ì¹˜

1. ë¹ˆ í´ë”ë¥¼ ë§Œë“­ë‹ˆë‹¤.
```tsx
mkdir example
```
2. ìƒˆë¡œìš´ erxes í”„ë¡œì íŠ¸ê°€ ìƒì„±ë  ë¹ˆ í´ë”ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ë° ì‚¬ìš©í•  erxes í”ŒëŸ¬ê·¸ì¸ì„ ì •ì˜í•©ë‹ˆë‹¤.
```tsx
cd example
```
3. í´ë”ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
```tsx
git clone https://github.com/erxes/erxes.git
```
# **Dockerë¥¼ ì‚¬ìš©í•˜ì—¬ ì¢…ì†ì„± ì„¤ì¹˜í•˜ê¸°**

4. í´ë”ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ dock ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“­ë‹ˆë‹¤.
```tsx
mkdir dock
```
5. ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ dock í´ë”ë¡œ ì´ë™í•©ë‹ˆë‹¤.
```tsx
cd dock
```
<Note>
    .yml íŒŒì¼ì„ ìƒì„±í•˜ë ¤ë©´ sudo nano ë˜ëŠ” sudo vim ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì‹­ì‹œì˜¤.
</Note>

6. `docker-compose.yml` íŒŒì¼ì„ ìƒì„±í•œ ë‹¤ìŒ, ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼ì— ë‹¤ìŒ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë³µì‚¬í•©ë‹ˆë‹¤.
<Tabs>
  <Tab label="Ubuntu">
```tsx
version: '3.6'
services:
  mongo:
    hostname: mongo
    image: mongo:4.0.10
    # container_name: mongo
    ports:
      - "27017:27017"
    networks:
      - erxes-net
    healthcheck:
      test: test $$(echo "rs.initiate().ok || rs.status().ok" | mongo --quiet) -eq 1
      interval: 2s
      timeout: 2s
      retries: 200
    command: ["--replSet", "rs0", "--bind_ip_all"]
    extra_hosts:
      - "mongo:127.0.0.1"
    volumes:
      - ./data/db:/data/db

  redis:
    image: 'redis'
    # container_name: redis
    # command: redis-server --requirepass pass
    ports:
      - "6379:6379"
    networks:
      - erxes-net

  rabbitmq:
    image: rabbitmq:3.7.17-management
    # container_name: rabbitmq
    restart: unless-stopped
    hostname: rabbitmq
    ports:
      - "15672:15672"
      - "5672:5672"
    networks:
      - erxes-net
    # RabbitMQ data will be saved into ./rabbitmq-data folder.
    volumes:
      - ./rabbitmq-data:/var/lib/rabbitmq
  
  elasticsearch:
    image: 'docker.elastic.co/elasticsearch/elasticsearch:7.13.0'
    container_name: 'elasticsearch'
    environment:
      - discovery.type=single-node
    ulimits:
      memlock:
        soft: -1
        hard: -1
      nofile:
        soft: 32768
        hard: 65536
    ports:
      - '127.0.0.1:9200:9200'
    networks:
      - erxes-net
    volumes:
      - ./elasticsearchData:/usr/share/elasticsearch/data

  essyncer:
    container_name: essyncer
    image: 'erxes/essyncer:dev'
    environment:
      DB_NAME: 'erxes'
      ELASTICSEARCH_URL: 'http://elasticsearch:9200'
      MONGO_URL: 'mongodb://mongo:27017/erxes?replicaSet=rs0'
    depends_on:
      - 'mongo'
      - 'elasticsearch'
    volumes:
      - './essyncerData:/data/essyncerData'
      - './mongoConnectorLog:/var/log/mongo-connector'
    tty: true
    networks:
      - 'erxes-net'

networks:
  erxes-net:
    driver: bridge
```
</Tab>
<Tab label="MacOS">
```tsx
version: '3.6'
services:
  mongo:
    hostname: mongo
    image: mongo:4.0.10
    # container_name: mongo
    ports:
      - "27017:27017"
    networks:
      - erxes-net
    healthcheck:
      test: test $$(echo "rs.initiate().ok || rs.status().ok" | mongo --quiet) -eq 1
      interval: 2s
      timeout: 2s
      retries: 200
    command: ["--replSet", "rs0", "--bind_ip_all"]
    extra_hosts:
      - "mongo:127.0.0.1"
    volumes:
      - ./data/db:/data/db

  redis:
    image: 'redis'
    # container_name: redis
    # command: redis-server --requirepass pass
    ports:
      - "6379:6379"
    networks:
      - erxes-net

  rabbitmq:
    image: rabbitmq:3.7.17-management
    # container_name: rabbitmq
    restart: unless-stopped
    hostname: rabbitmq
    ports:
      - "15672:15672"
      - "5672:5672"
    networks:
      - erxes-net
    # RabbitMQ data will be saved into ./rabbitmq-data folder.
    volumes:
      - ./rabbitmq-data:/var/lib/rabbitmq
  
  elasticsearch:
    image: 'docker.elastic.co/elasticsearch/elasticsearch:7.13.0-arm64'
    container_name: 'elasticsearch'
    environment:
      - discovery.type=single-node
    ulimits:
      memlock:
        soft: -1
        hard: -1
      nofile:
        soft: 32768
        hard: 65536
    ports:
      - '127.0.0.1:9200:9200'
    networks:
      - erxes-net
    volumes:
      - ./elasticsearchData:/usr/share/elasticsearch/data

  essyncer:
    container_name: essyncer
    image: 'erxes/essyncer:dev'
    environment:
      DB_NAME: 'erxes'
      ELASTICSEARCH_URL: 'http://elasticsearch:9200'
      MONGO_URL: 'mongodb://mongo:27017/erxes?replicaSet=rs0'
    depends_on:
      - 'mongo'
      - 'elasticsearch'
    volumes:
      - './essyncerData:/data/essyncerData'
      - './mongoConnectorLog:/var/log/mongo-connector'
    tty: true
    networks:
      - 'erxes-net'

networks:
  erxes-net:
    driver: bridge
```
</Tab>
</Tabs>
<Tip>
Please find the useful [commands](https://docs.docker.com/engine/reference/commandline/compose_images/#related-commands)<script src='https://cdn.jsdelivr.net/gh/eddymens/markdown-external-link-script@v2.0.0/main.min.js'></script> when you're working on Docker
</Tip>

7. ìœ„ íŒŒì¼ì´ ìˆëŠ” í´ë”ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
```tsx
sudo docker-compose up -d
```
8. ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ erxes í´ë”ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.
```tsx
cd ../erxes
```
9. ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°œë°œ ë¸Œëœì¹˜ë¡œ ì „í™˜í•©ë‹ˆë‹¤.
```tsx
git checkout dev
```
10. erxes í´ë”ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë…¸ë“œ ëª¨ë“ˆì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.
```tsx
yarn install
```
11. ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ `pm2`ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.
```tsx
sudo npm install -g pm2
```

# erxes ì‹¤í–‰

<Caution>
erxes/cli ë””ë ‰í† ë¦¬ì—ì„œ erxesë¥¼ ì‹¤í–‰í•˜ì‹­ì‹œì˜¤.
</Caution>

1. í´ë”ë¥¼ ë³€ê²½í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
```tsx
cd cli
```
2. erxes/cli ë””ë ‰í† ë¦¬ì—ì„œ ë…¸ë“œ ëª¨ë“ˆì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.
```tsx
yarn install
```
3. `configs.json.sample`ì„ ë³µì‚¬í•œ ë‹¤ìŒ, ì´ë¥¼ `configs.json`ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
```tsx
cp configs.json.sample configs.json
```
4. `configs.json` íŒŒì¼ì—ì„œ ëª¨ë“  í”ŒëŸ¬ê·¸ì¸ ì´ë¦„ ì•„ë˜ì— `"ui": "local"`ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ë³´ì…ë‹ˆë‹¤.
<Caution>
`logs` í”ŒëŸ¬ê·¸ì¸ ì•„ë˜ì—ëŠ” uiê°€ ì—†ìœ¼ë¯€ë¡œ ì¶”ê°€í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.
</Caution>
```tsx
 {
    "name": "inbox",
    "ui": "local"
 },
```
5. ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ erxes í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.
```tsx
./bin/erxes.js dev
```

## **ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ localhost:3000ìœ¼ë¡œ ì´ë™í•˜ì§€ ì•Šìœ¼ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œê·¸ë¥¼ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.**

<Tip>
Erxesì—ì„œ ìì£¼ ì‚¬ìš©í•˜ëŠ” pm2 ëª…ë ¹ì–´:

- pm2 list - ëª¨ë“  í”„ë¡œì„¸ìŠ¤ ìƒíƒœ í‘œì‹œ
- pm2 kill - pm2 ëª©ë¡ì—ì„œ ëª¨ë“  í”„ë¡œì„¸ìŠ¤ ì œê±°
- pm2 logs -f - ëª¨ë“  í”„ë¡œì„¸ìŠ¤ ë¡œê·¸ë¥¼ ìŠ¤íŠ¸ë¦¬ë°ìœ¼ë¡œ í‘œì‹œ(gateway, plugin-name ë“±)
- pm2 restart all - ëª¨ë“  í”„ë¡œì„¸ìŠ¤ ì¬ì‹œì‘
</Tip>

## **ì´ í™”ë©´ì´ í‘œì‹œë˜ë©´ erxes XOS ì„¤ì¹˜ì— ì„±ê³µí•œ ê²ƒì…ë‹ˆë‹¤. ì¶•í•˜í•©ë‹ˆë‹¤ ğŸ‰ğŸ‰ğŸ‰**
 ![](https://imagedelivery.net/5m26Aj-CutMXPPNacMs_yQ/1bee4344-9c4b-4a37-e3f4-6e4b02211000/public)

---

## ì„œë²„ ì„¤ì¹˜

ë‹¤ìŒ ë¬¸ì„œëŠ” [Docker](https://www.docker.com/) í—ˆë¸Œë¥¼ í†µí•´ [Ubuntu](https://ubuntu.com/) ë˜ëŠ” [CentOS](https://www.centos.org/)ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” Docker ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ erxes í”„ë¡œì íŠ¸ë¥¼ ì„¤ì¹˜í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´í•©ë‹ˆë‹¤. ì´ ê°€ì´ë“œëŠ” erxesë¥¼ ë¹„ì¦ˆë‹ˆìŠ¤ì— ì‚¬ìš©í•  ë¶„ë“¤ì„ ìœ„í•œ ê²ƒì…ë‹ˆë‹¤. erxesë¥¼ ë§ì¶¤í™”í•˜ê±°ë‚˜ ì¶”ê°€ í”ŒëŸ¬ê·¸ì¸ì„ ê°œë°œí•˜ë ¤ëŠ” ê²½ìš° [ê°œë°œì ì„¤ì¹˜ ê°€ì´ë“œ](/intro)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

DockerëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œ, ë°°í¬ ë° ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ í”Œë«í¼ì…ë‹ˆë‹¤. ì´ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ê¸°ëŠ¥í•˜ëŠ” ë° í•„ìš”í•œ ëª¨ë“  ë¶€ë¶„(ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ì¢…ì†ì„± ë“±)ì„ í¬í•¨í•˜ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

# ì „ì œ ì¡°ê±´
erxes ì„¤ì¹˜ë¥¼ ì‹œì‘í•˜ê¸° ì „ì— ë‹¤ìŒì´ í•„ìš”í•©ë‹ˆë‹¤.

- **8ì½”ì–´ CPU ë° ìµœì†Œ 16GB RAM**ì„ ê°–ì¶˜ ì„œë²„
- ì‚¬ìš©ì ë””ë ‰í† ë¦¬ì—ì„œ ëª…ë ¹ì„ ì‹¤í–‰í•˜ëŠ” ë“± Ubuntu/CentOS ìš´ì˜ ì²´ì œì—ì„œ ì‘ì—…í•  ìˆ˜ ìˆëŠ” ê¸°ë³¸ ì§€ì‹
- ë„ë©”ì¸ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ **A ë ˆì½”ë“œ**ê°€ erxesë¥¼ ì„¤ì¹˜í•˜ë ¤ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¡œ ì§€ì •ë˜ì–´ ìˆì–´ì•¼ í•¨
- **SSH** í”„ë¡œí† ì½œì„ í†µí•´ ì¸ìŠ¤í„´ìŠ¤ì— ì—°ê²°í•  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥

---

# ì„¤ì¹˜ ë‹¨ê³„

**1.** nano ë˜ëŠ” vimê³¼ ê°™ì€ í…ìŠ¤íŠ¸ í¸ì§‘ê¸°ë¥¼ ì‚¬ìš©í•˜ì—¬ `install.sh` íŒŒì¼ì„ ë§Œë“­ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ë‹¤ìŒ ë‚´ìš©ì„ `install.sh`ì— ë³µì‚¬í•©ë‹ˆë‹¤. ë‹¤ìŒ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì„œë²„ì— nginx, certbot, docker, docker-compose ë° nodejsë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.
<Tabs>
  <Tab label="Ubuntu">
```bash
 #!/bin/bash
  now=$(date +'%H:%M:%S')
  echo -e "\e[1mStep 1 $now : Updating \e[0m"
sudo apt-get update -y
  now=$(date +'%H:%M:%S')
  echo -e "\e[1mStep 2 $now : Installing nginx\e[0m"
sudo apt install nginx -y
sudo apt update -y
  now=$(date +'%H:%M:%S')
  echo -e "\e[1mStep 3 $now : Installing docker\e[0m"
sudo apt install apt-transport-https ca-certificates curl software-properties-common -y
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu focal stable"
apt-cache policy docker-ce
sudo apt install docker-ce -y
  now=$(date +'%H:%M:%S')
  echo -e "\e[1mStep 5 $now : Installing docker compose\e[0m"
sudo apt-get update -y
sudo curl -L "https://github.com/docker/compose/releases/download/1.27.4/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
  now=$(date +'%H:%M:%S')
  echo -e "\e[1mStep 6 $now : Installing ndoejs\e[0m"
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.38.0/install.sh | bash
curl -s https://deb.nodesource.com/setup_18.x | sudo bash
sudo apt-get install nodejs -y
  now=$(date +'%H:%M:%S')
  echo -e "\e[1mStep 7 $now : Installing awscli \e[0m"
sudo apt-get install awscli -y
  now=$(date +'%H:%M:%S')
  echo -e "\e[1mStep 8 $now : Installing npm\e[0m"
sudo apt install npm -y
  now=$(date +'%H:%M:%S')
  echo -e "\e[1mStep 9 $now : Enter your domain address to configure erxes\e[0m"
sudo npm install -g create-erxes-app -y
```
 </Tab>
   <Tab label="CentOS">
```bash
#!/bin/bash
  now=$(date +'%H:%M:%S')
  echo -e "\e[1mStep 1 $now : Updating \e[0m"
sudo yum update -y   
sudo yum install epel-release -y
  now=$(date +'%H:%M:%S')
  echo -e "\e[1mStep 2 $now : Installing nginx\e[0m"
sudo yum install nginx -y
sudo systemctl start nginx
sudo yum check-update
  now=$(date +'%H:%M:%S')
  echo -e "\e[1mStep 3 $now : Installing docker\e[0m"
curl -fsSL https://get.docker.com/ | sh
sudo systemctl start docker
sudo yum install -y yum-utils \
device-mapper-persistent-data \
lvm2
  now=$(date +'%H:%M:%S')
  echo -e "\e[1mStep 5 $now : Installing docker-compose\e[0m"
sudo yum install docker-ce -y
sudo yum install http://dl.fedoraproject.org/pub/epel/7/x86_64/Packages/p/pigz-2.3.4-1.el7.x86_64.rpm -y
sudo yum install http://mirror.centos.org/centos/7/extras/x86_64/Packages/container-selinux-2.21-1.el7.noarch.rpm -y
sudo yum list docker-ce --showduplicates | sort -r docker-ce.x86_64  17.09.ce-1.el7.centos  docker-ce-stable
sudo curl -L "https://github.com/docker/compose/releases/download/1.23.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
docker-compose --version
  now=$(date +'%H:%M:%S')
  echo -e "\e[1mStep 6 $now : installing nodejs\e[0m"
curl -sL https://rpm.nodesource.com/setup_20.x | sudo bash -
sudo yum install nodejs -y
node --version
  now=$(date +'%H:%M:%S')
  echo -e "\e[1mStep 8 $now : Installing npm\e[0m"
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash
sudo nvm --version
sudo nvm install node
sudo nvm install --lts
sudo nvm install 9.6.7
  now=$(date +'%H:%M:%S')
  echo -e "\e[1mStep 7 $now : installing awscli\e[0m"
curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
unzip awscliv2.zip
sudo ./aws/install
aws --version
  now=$(date +'%H:%M:%S')
  echo -e "\e[1mStep 9 $now : Enter your domain address to configure erxes\e[0m"
sudo npm install -g create-erxes-app -y
```
  </Tab>
</Tabs>

**2.** `install.sh` íŒŒì¼ì„ ì‹¤í–‰í•˜ê¸° ì „ì— ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ `install.sh` íŒŒì¼ì„ ì‹¤í–‰ ê°€ëŠ¥í•˜ë„ë¡ ë§Œë“œì„¸ìš”
```bash
sudo chmod +x install.sh
```

**3.** `install.sh` íŒŒì¼ì„ ì‹¤í–‰í•˜ì„¸ìš”.
```bash
./install.sh
```

{/* **4.** ìœ„ì˜ ë‹¨ê³„ê°€ ì™„ë£Œë˜ë©´ erxes ì‚¬ìš©ìë¡œ ì„œë²„ì— ë‹¤ì‹œ ë¡œê·¸ì¸í•˜ê¸° ìœ„í•´ ë¡œê·¸ì•„ì›ƒí•˜ê³  ë‹¤ì‹œ ë¡œê·¸ì¸í•˜ì„¸ìš”. ì„œë²„ì—ì„œ ë¡œê·¸ì•„ì›ƒí•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”:
```bash
exit
```
<Note>
ì´ì „ì— root ì‚¬ìš©ìë¡œ ë¡œê·¸ì¸í•œ ê²½ìš° ëª‡ ë²ˆì˜ ëª…ë ¹ì–´ ì…ë ¥ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</Note>

ì„œë²„ì— ì ‘ì†í•˜ë ¤ë©´ ssh í”„ë¡œí† ì½œì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”:

```bash
ssh erxes@your-ip address-address
``` */}
---
**ì¸ìŠ¤í„´ìŠ¤ì— erxes ì‚¬ìš©ì ìƒì„±í•˜ê¸°**

ì¸ìŠ¤í„´ìŠ¤ì— ì—°ê²°ë˜ì–´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ì‹¤í–‰í•  ì¤€ë¹„ê°€ ë˜ì—ˆë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤. ë¨¼ì € `erxes ì‚¬ìš©ì`ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤. ëª¨ë“  erxes ê´€ë ¨ ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ëŠ” erxes ì‚¬ìš©ìë¥¼ ìœ„í•´ ì‘ì„±ë˜ì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
ì™œ ê·¸ëŸ´ê¹Œìš”?
ì„œë²„ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ **root** ì‚¬ìš©ìë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë°”ëŒì§í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ëª¨ë“  ì‘ì—…ì€ `erxes`ë¼ëŠ” ì‚¬ìš©ìë¡œ ìˆ˜í–‰ë©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”:

```bash
adduser erxes
```
í”„ë¡¬í”„íŠ¸ê°€ í‘œì‹œë˜ë©´ **ê³ ìœ í•˜ê³  ê°•ë ¥í•œ** ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.
(ì§ˆë¬¸ì„ í†µí•´ ì‚¬ìš©ìë¥¼ ì¶”ê°€í•˜ëŠ” ê³¼ì •ì„ ì™„ë£Œí•˜ë ¤ë©´ `enter` ë˜ëŠ” `return` í‚¤ë¥¼ ëˆ„ë¥´ì„¸ìš”)

ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ `erxes` ì‚¬ìš©ìì—ê²Œ sudo ë° docker ê¶Œí•œì„ ë¶€ì—¬í•˜ì„¸ìš”:

```bash
usermod -aG sudo erxes
```
```bash
usermod -aG docker erxes
```
```bash
su - erxes
```
ëª¨ë“  í•„ìˆ˜ ì¤€ë¹„ ì‚¬í•­ì´ ì™„ë£Œë˜ì—ˆìœ¼ë¯€ë¡œ ì´ì œ ì„¤ì¹˜ ë‹¨ê³„ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# erxes í”„ë¡œì íŠ¸ ì‹œì‘í•˜ê¸°
**1.** ì•„ë˜ ëª…ë ¹ì–´ëŠ” erxes ì„¤ì¹˜ ê³¼ì •ì„ ì‹œì‘í•©ë‹ˆë‹¤.
```bash
create-erxes-app erxes
```
ì‹¤í–‰ í›„ erxes ë„ë©”ì¸ ì´ë¦„ì„ ì…ë ¥í•˜ë¼ëŠ” ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤.

```bash
https://example.com
```

<Note>
ë„ë©”ì¸ ë˜ëŠ” ì„œë¸Œë„ë©”ì¸ ì´ë¦„ì„ http ì†Œì¼“ì„ í¬í•¨í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ì…ë ¥í•˜ì„¸ìš”:
</Note>
**2.** ìœ„ ëª…ë ¹ì–´ ì‹¤í–‰ í›„ erxes ë””ë ‰í† ë¦¬ê°€ ìƒì„±ë©ë‹ˆë‹¤. ê·¸ ë””ë ‰í† ë¦¬ì—ëŠ” docker-compose.yml, configs.json, package.json, nginx config íŒŒì¼ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. erxes ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ë ¤ë©´ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.

```bash
cd /home/erxes/erxes
```
**3.** /home/erxes/erxes/package.json íŒŒì¼ì—ì„œ erxes íŒ¨í‚¤ì§€ ë²„ì „ì„ <a href="https://www.npmjs.com/package/erxes" target="_blank">ìµœì‹  ë²„ì „</a>ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”.

```bash
{
  "name": "erxes",
  "private": true,
  "version": "0.1.0",
  "scripts": {
    "erxes": "erxes"
  },
  "dependencies": {
    "amqplib": "^0.8.0",
    "create-erxes-app": "0.0.28",
    "dup": "^1.0.0",
    #Change here
    "erxes": "change me",
    "ip": "^1.1.5",
    "up": "^1.0.2"
  }
}
```
erxes ë²„ì „ì´ package.json íŒŒì¼ì—ì„œ ë³€ê²½ëœ ê²½ìš°, ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ erxesì— í•„ìš”í•œ ëª¨ë“ˆì„ ì„¤ì¹˜í•˜ì„¸ìš”.

```bash
npm install
```

**4.** ì´ì œ Docker Swarm ëª¨ë“œë¥¼ ì´ˆê¸°í™”í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.

```bash
docker swarm init
```
<Note> 
ì´ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•  ë•Œ ê¶Œí•œ ê±°ë¶€ ê²½ê³ ê°€ ë°œìƒí•˜ë©´ `usermod -aG docker erxes` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šì€ ê²ƒì…ë‹ˆë‹¤.
</Note>

```bash
docker network create --driver=overlay --attachable erxes
```
<Note>
erxes ë””ë ‰í† ë¦¬ì—ëŠ” docker-compose.yml íŒŒì¼ì´ ìˆì§€ë§Œ, ë” ì´ìƒ docker-compose up, docker-compose down, docker-compose restart ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
</Note>

**5.** ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤ë¥¼ ì‹œì‘í•˜ê¸° ì „ì— ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤. ë‹¤ìŒ ëª…ë ¹ì–´ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì„œë¹„ìŠ¤ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.
```bash
openssl rand -base64 756 > mongo-key
sudo chmod 400 mongo-key && sudo chown 999:999 mongo-key
openssl req -newkey rsa:2048 -nodes -keyout key.pem -x509 -days 365 -out certificate.pem --batch
cat key.pem certificate.pem > mongo.pem
```
# Elasticsearch ì‹¤í–‰
ì„œë²„ê°€ ìš”êµ¬ ì‚¬í•­ë³´ë‹¤ ë” í¬ë©´ erxesë¥¼ elasticsearchì™€ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤.

configs.json íŒŒì¼ì— ë‹¤ìŒ ì¤„ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ìœ„ì¹˜ëŠ” ìƒê´€ì—†ìŠµë‹ˆë‹¤.
```bash
"essyncer": {},
"elasticsearch" : {},
```
ê·¸ëŸ¼ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë°°í¬í•©ë‹ˆë‹¤.
```bash
npm run erxes deploy-dbs
```
**6.** ë°ì´í„°ë² ì´ìŠ¤ ì„œë¹„ìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. ì´ëŠ” ëª¨ë“  ì‹¤í–‰ ì¤‘ì¸ Docker ì„œë¹„ìŠ¤ì˜ ID, ì´ë¦„ ë° ìƒíƒœ ë“±ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.

```bash
docker ps -a | grep mongo
```
ëª¨ë“  ì„œë¹„ìŠ¤ ìƒíƒœê°€ 'Up'ì´ ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì‹­ì‹œì˜¤.

**7.** ì´ì œ MongoDBì— ë ˆí”Œë¦¬ì¹´ ì„¸íŠ¸ë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤. ë¨¼ì € MongoDB ì»¨í…Œì´ë„ˆì— ë“¤ì–´ê°„ ë‹¤ìŒ MongoDB ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•œ í›„ ë‹¤ìŒ 3ê°œì˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
```bash
docker exec -it <mongo container name> bash
mongo -u erxes -p <auto generated in configs.json>
rs.initiate();
```
<Note>
ëª…ë ¹ì–´ë¥¼ ëª‡ ë²ˆ ì…ë ¥í•´ì•¼ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì œëŒ€ë¡œ ìˆ˜í–‰ëœ ê²½ìš° MongoDB ì…¸ì´ `"RS0: primary"`ë¡œ ë³€ê²½ë©ë‹ˆë‹¤.
</Note>

MongoDB ì¸ìŠ¤í„´ìŠ¤ì™€ ì»¨í…Œì´ë„ˆë¥¼ ì¢…ë£Œí•˜ë ¤ë©´ `exit` ëª…ë ¹ì–´ë¥¼ ë‘ ë²ˆ ì‹¤í–‰í•˜ì‹­ì‹œì˜¤.

**8.** ì‘ì—… ë””ë ‰í† ë¦¬ `/home/erxes/erxes`ì— `locales` ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤.

```bash
mkdir locales
```

**9.** `/home/erxes/erxes/configs.json` íŒŒì¼ì˜ erxes ë²„ì „ì„ <a href="https://hub.docker.com/u/erxes" target="_blank">ìµœì‹  ë²„ì „</a>ìœ¼ë¡œ ë³€ê²½í•˜ì‹­ì‹œì˜¤. ì´ëŠ” ì¶”ê°€ ê°œë°œì´ ì§„í–‰ëœ ìµœì‹  ë²„ì „ì…ë‹ˆë‹¤.

erxes í•µì‹¬ UI ë° ê²Œì´íŠ¸ì›¨ì´ ì„œë¹„ìŠ¤ë¥¼ ì‹œì‘í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤.
```bash
npm run erxes up -- --uis
```

ì´ ë‹¨ê³„ í›„ UIëŠ” AWS:s3ì—ì„œ ë‹¤ìš´ë¡œë“œë©ë‹ˆë‹¤. ì„œë²„ê°€ AWS ì¸ìŠ¤í„´ìŠ¤ì™€ ì›í™œí•˜ê²Œ í†µì‹ í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ì‹­ì‹œì˜¤.


<Note>
ì»¨í…Œì´ë„ˆëŠ” í•˜ë‚˜ì”© ìƒì„±ë˜ë¯€ë¡œ ëª¨ë“  ì»¨í…Œì´ë„ˆê°€ ë¡œë“œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì‹­ì‹œì˜¤. ê·¸ë™ì•ˆ ìƒíƒœë¥¼ í™•ì¸í•˜ì‹­ì‹œì˜¤.
```bash
docker ps -a
```
Docker ì„œë¹„ìŠ¤ë¥¼ í™•ì¸í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤.
```bash
docker service ls
```
ëª¨ë“  erxes ì„œë¹„ìŠ¤ê°€ 'Up' ìƒíƒœì—¬ì•¼ í•©ë‹ˆë‹¤.
ê²Œì´íŠ¸ì›¨ì´ ì»¨í…Œì´ë„ˆ ìƒíƒœê°€ 'Healthy'ê°€ ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì‹­ì‹œì˜¤. ë˜í•œ ê²Œì´íŠ¸ì›¨ì´ ì»¨í…Œì´ë„ˆê°€ ë§ˆì§€ë§‰ì— ì‹œì‘ë˜ëŠ”ì§€ í™•ì¸í•˜ì‹­ì‹œì˜¤.
</Note>

**10.** ì´ì œ ì›¹ ì„œë²„ë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤. ë¨¼ì € nginxë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ `/etc/nginx/sites-enabled`ì— `erxes.conf`ë¼ëŠ” nginx êµ¬ì„± íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤.
```bash
sudo nano /etc/nginx/sites-enabled/erxes.conf
```
ì•„ë˜ nginx êµ¬ì„±ì„ ë³µì‚¬í•˜ì‹­ì‹œì˜¤.

```bash
server {
        server_name example.com;
        index index.html;
        client_max_body_size 50M;
        client_header_buffer_size 32k;

        location / {
                access_log /var/log/nginx/erxes-front.access.log;
                error_log /var/log/nginx/erxes-front.error.log;
                proxy_pass http://127.0.0.1:3000;
                proxy_http_version 1.1;
                proxy_redirect off;
                proxy_set_header Host $http_host;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_set_header X-Forwarded-Host $host;
                proxy_set_header X-Forwarded-Server $host;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_set_header X-Forwarded-Proto $scheme;
        }

        location /widgets/ {
                access_log /var/log/nginx/erxes-widgets.access.log;
                error_log /var/log/nginx/erxes-widgets.error.log;
                proxy_pass http://127.0.0.1:3200/;
                proxy_set_header Upgrade $http_upgrade;
                proxy_set_header Connection 'upgrade';
                proxy_set_header Host $host;
                proxy_set_header Host $http_host;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_http_version 1.1;
        }

        location /gateway/ {
                access_log /var/log/nginx/erxes-api.access.log;
                error_log /var/log/nginx/erxes-api.error.log;
                proxy_pass http://127.0.0.1:3300/;
                proxy_http_version 1.1;
                proxy_buffering off;
                proxy_redirect off;
                proxy_set_header Host $http_host;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_set_header X-Forwarded-Server $host;
                proxy_set_header X-Forwarded-Host $host;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_set_header X-Forwarded-Proto $scheme;
                proxy_set_header Upgrade $http_upgrade;
                proxy_set_header Connection "Upgrade";
        }

        location /mobile-app/ {
                access_log /var/log/nginx/erxes-mobile-app.access.log;
                error_log /var/log/nginx/erxes-mobile-app.error.log;
                proxy_pass http://127.0.0.1:4100/;
                proxy_http_version 1.1;
                proxy_buffering off;
                proxy_redirect off;
                proxy_set_header Host $http_host;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_set_header X-Forwarded-Server $host;
                proxy_set_header X-Forwarded-Host $host;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_set_header X-Forwarded-Proto $scheme;
                proxy_set_header Upgrade $http_upgrade;
                proxy_set_header Connection "Upgrade";
        }

        location /integrations/ {
                access_log /var/log/nginx/erxes-integrations.access.log;
                error_log /var/log/nginx/erxes-integrations.error.log;
                proxy_pass http://127.0.0.1:3400/;
                proxy_http_version 1.1;
                proxy_redirect off;
                proxy_set_header Host $http_host;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_set_header X-Forwarded-Host $host;
                proxy_set_header X-Forwarded-Server $host;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_set_header X-Forwarded-Proto $scheme;
        }
        location /dashboard/front {
                access_log /var/log/nginx/erxes-integrations.access.log;
                error_log /var/log/nginx/erxes-integrations.error.log;
                proxy_pass http://127.0.0.1:4200;
                proxy_http_version 1.1;
                proxy_redirect off;
                proxy_set_header Host $http_host;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_set_header X-Forwarded-Host $host;
                proxy_set_header X-Forwarded-Server $host;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_set_header X-Forwarded-Proto $scheme;
        }

        location /dashboard/api/ {
                access_log /var/log/nginx/erxes-integrations.access.log;
                error_log /var/log/nginx/erxes-integrations.error.log;
                proxy_pass http://127.0.0.1:4300/;
                proxy_http_version 1.1;
                proxy_redirect off;
                proxy_set_header Host $http_host;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_set_header X-Forwarded-Host $host;
                proxy_set_header X-Forwarded-Server $host;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
    ```
**11.** ê·¸ í›„ nginx êµ¬ì„±ì„ í…ŒìŠ¤íŠ¸í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤.
```bash
sudo nginx -t
```

**12.** nginx í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•˜ë©´ nginxë¥¼ ë‹¤ì‹œ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤.
    ```bash
    sudo service nginx restart
    ```
**13.** erxesëŠ” ë³´ì•ˆ ì—°ê²°ì—ì„œë§Œ ì‘ë™í•˜ë¯€ë¡œ ë¬´ë£Œ SSL ì¸ì¦ì„œë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ `Certbot`ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ë¥¼ ì„¤ì •í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤.

```bash
sudo certbot --nginx
```
<Note>
ë„ë©”ì¸ì˜ A ë ˆì½”ë“œë¥¼ erxes í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ìœ¼ë¡œ ì§€ì •í•´ì•¼ë§Œ ì¸ì¦ì„œë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ certbotì´ ì¸ì¦ì„œë¥¼ ìƒì„±í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
</Note>

ì´ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•œ í›„ ì´ë©”ì¼ê³¼ êµ¬ë… ì •ë³´ë¥¼ ì œê³µí•˜ê³  ì•½ê´€ì— ë™ì˜í•˜ì‹­ì‹œì˜¤. ê·¸ í›„ 'ë¦¬ë””ë ‰ì…˜' ì˜µì…˜ì— ëŒ€í•´ ë¬»ëŠ” ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤. ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ ì´ ì˜µì…˜ì„ í™œì„±í™”í•  ê²ƒì„ ê°•ë ¥íˆ ê¶Œì¥í•©ë‹ˆë‹¤. ì´ ëª¨ë“  ë‹¨ê³„ë¥¼ ì™„ë£Œí•œ í›„ ë¸Œë¼ìš°ì €ë¥¼ ì—´ì–´ ì œí’ˆì„ ì¦ê¸°ì‹­ì‹œì˜¤.

# erxesì— ìƒˆ í”ŒëŸ¬ê·¸ì¸ ì¶”ê°€
erxesì— ìƒˆ í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ê°„ë‹¨í•œ ì‘ì—…ì…ë‹ˆë‹¤. `/home/erxes/erxes/configs.json` íŒŒì¼ì˜ `"plugins:"[{}]` ì•„ë˜ì— í”ŒëŸ¬ê·¸ì¸ ì´ë¦„ì„ ì¶”ê°€í•œ ë‹¤ìŒ `npm run erxes up -- --uis` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ëŒ€ì‹œë³´ë“œì™€ ê°™ì€ ì¼ë¶€ í”ŒëŸ¬ê·¸ì¸ì€ `ì¶”ê°€` ì„œë¹„ìŠ¤ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì´ëŠ” ë‹¤ë¥¸ ì„¹ì…˜ì—ì„œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” ëª¨ë“  `í•„ìˆ˜ êµ¬ì„± ë¼ì¸`ì´ í¬í•¨ëœ `ì´ìƒì ì¸` configs.json íŒŒì¼ ë‚´ìš©ì…ë‹ˆë‹¤. ì•„ë˜ ë‚´ìš©ì„ ì£¼ì˜ ê¹Šê²Œ ì½ìœ¼ì‹­ì‹œì˜¤. ì¼ë¶€ ì¤„ì€ `êµì²´`ê°€ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
{
    "jwt_token_secret": "will be generated in configs.json",
    "db_server_address": "ip address of your machine",
    "secondary_server_address": "",
    "image_tag": "dev",
    "domain": "https://example.com",
    "widgets": {
        "domain": "https://example.com/widgets"
    },
    "elasticsearch": {},
    "essyncer": {},
    "redis": {
        "password": "will be generated in configs.json"
    },

    "mongo": {
        "username": "erxes",
        "password": "will be generated in configs.json",
    },
    "rabbitmq": {
        "cookie": "",
        "user": "erxes",
        "pass": "will be generated in configs.json",
        "vhost": ""
    },

    "plugins": [
        {
            "name": "inbox",
            "extra_env": {
                "INTEGRATIONS_MONGO_URL": "will be generated in docker-compose-dbs.yml",
                "FB_MONGO_URL": "will be generated in docker-compose-dbs.yml"
            }
        },
        {
            "name": "cards"
        },
        {
            "name": "contacts"
        },
        {
            "name": "internalnotes"
        },
        {
            "name": "notifications"
        },
        {
            "name": "automations",
            "db_name": "erxes_automations"
        },
        {
            "name": "products"
        },
        {
            "name": "forms"
        },
        {
            "name": "inventories"
        },
        {
            "name": "segments"
        },
        {
            "name": "tags"
        },
        {
            "name": "engages"
        },
        {
            "name": "logs",
            "db_name": "erxes_logger"
        },
        {
            "name": "clientportal",
            "extra_env": {
                "JWT_TOKEN_SECRET": ""
                    }
        },
        {
            "name": "webbuilder"
        },
        {
            "name": "knowledgebase"
        },
        {
            "name": "emailtemplates"
        },
        {
            "name": "integrations",
            "db_name": "erxes_integrations",
            "extra_env": {
                "ENDPOINT_URL": "https://enterprise.erxes.io"
            }
        },
        {
            "name": "dashboard"
        },
        {
            "name": "documents"
        },
        {
            "name": "filemanager"
        },
        {
            "name": "facebook",
            "extra_env": {
                "ENDPOINT_URL": "https://enterprise.erxes.io",
                "MONGO_URL": "will be generated in docker-compose-dbs.yml"
            }
        }
    ]
}
```
---

{/*# ëŒ€ì‹œë³´ë“œ í”ŒëŸ¬ê·¸ì¸ ì¶”ê°€
ì•ì„œ ì–¸ê¸‰í–ˆë“¯ì´ ëŒ€ì‹œë³´ë“œ í”ŒëŸ¬ê·¸ì¸ì€ ì„¤ì¹˜ë¥¼ ìœ„í•´ ëª‡ ê°€ì§€ ì¶”ê°€ ë‹¨ê³„ë¥¼ í•„ìš”ë¡œ í•©ë‹ˆë‹¤. ë¨¼ì € `mongobi ì¸ì¦ì„œ`ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤.

```bash
openssl rand -base64 756 > mongo-key
    sudo chmod 400 mongo-key && sudo chown 999:999 mongo-key
    openssl req -newkey rsa:2048 -nodes -keyout key.pem -x509 -days 365 -out certificate.pem --batch
    cat key.pem certificate.pem > mongo.pem
    ```

ì´ ëª…ë ¹ì–´ëŠ” mongobi ì¸ì¦ì„œë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ê·¸ í›„ `/home/erxes/erxes/configs.json` íŒŒì¼ì— `mongobi`ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.

```bash
 "mongo": {
        "username": "erxes",
        "password": "will be generated in configs.json",
    },
    "mongobi:{},
```
ë§ˆì§€ë§‰ìœ¼ë¡œ `npm run erxes up -- --uis` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì‹­ì‹œì˜¤.

<Note>
configs.jsonì„ ë³€ê²½í•  ë•Œë§ˆë‹¤ `npm run erxes up -- --uis` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ë³€ê²½ ì‚¬í•­ì„ ì ìš©í•©ë‹ˆë‹¤.
</Note>

---*/}
---

# erxes ì œê±°
**1.** ë¨¼ì €, ì´ëŠ” ì•„ì‰½ì§€ë§Œ ëª¨ë“  ì„œë²„ëŠ” ì •ë¦¬ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ë‹¤ìŒ ëª…ë ¹ì–´ëŠ” Docker ìŠ¤íƒê³¼ ìŠ¤ì›œì— ìˆëŠ” ëª¨ë“  ë– ë„ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ì œê±°í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.
 ```bash
 docker stack ls
 ```
ìŠ¤íƒ ì •ë³´ë¥¼ í‘œì‹œí•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤.
 ```bash
docker stack rm erxes
docker stack rm erxes-dbs
 ```

**2.** ëª¨ë“  ë– ë„ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ì œê±°í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤.

ë– ë„ëŠ” ì´ë¯¸ì§€ë¥¼ ë‚˜ì—´í•˜ê³  ì œê±°í•©ë‹ˆë‹¤.

```bash
docker images -f dangling=true
docker rmi $(docker images -q -f dangling=true)
```
ë– ë„ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ë‚˜ì—´í•˜ê³  ì œê±°í•©ë‹ˆë‹¤.
```bash
docker ps -a -f status=exited
docker rm $(docker ps -a -q -f status=exited)
```
ë– ë„ëŠ” ë³¼ë¥¨ì„ ë‚˜ì—´í•˜ê³  ì œê±°í•©ë‹ˆë‹¤.

<Note>
ë³¼ë¥¨ì—ëŠ” ë°ì´í„°ê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì£¼ì˜í•´ì„œ ì§„í–‰í•˜ì‹­ì‹œì˜¤.
</Note>

```bash
docker volume ls -f dangling=true
docker volume rm $(docker volume ls -q -f dangling=true)
```
 ---
# ì„¤ì¹˜ ë¹„ë””ì˜¤

<iframe
    width="560"
    height="315"
    src="https://www.youtube.com/embed/PZ87Xmig7nE?si=KoDbjTolWAivYFyX"
    title="installation video"
    frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
    allowfullscreen
  />
---

# erxes ì»¤ë®¤ë‹ˆí‹° ê°€ì…í•˜ê¸°
ì˜¤ëŠ˜ ë°”ë¡œ erxes ì»¤ë®¤ë‹ˆí‹°ì— ê°€ì…í•˜ì„¸ìš”! ì„¤ì¹˜ ê³¼ì •ì—ì„œ ì–´ë ¤ì›€ì„ ê²ªìœ¼ì‹œë©´ ì£¼ì €í•˜ì§€ ë§ê³  ë„ì›€ì„ ìš”ì²­í•˜ì„¸ìš”. [Github](https://github.com/erxes/erxes) ì €ì¥ì†Œì—ì„œ ë¬¸ì œë¥¼ ì œê¸°í•˜ê±°ë‚˜ [Discord](https://discord.com/invite/rPf9FYaA3F)ì—ì„œ ì¹œì ˆí•œ ì»¤ë®¤ë‹ˆí‹°ì˜ ë„ì›€ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì €í¬ëŠ” ì–¸ì œë‚˜ ì—¬ëŸ¬ë¶„ì„ ì§€ì›í•  ì¤€ë¹„ê°€ ë˜ì–´ ìˆìŠµë‹ˆë‹¤!